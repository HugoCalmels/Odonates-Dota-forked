<div class="page-header-custom">
  <app-page-hero [pageTitle]="'TEAMS'"></app-page-hero>
  <div class="bg-image__custom"></div>
  <div class="page-content">

    <div class="team-list">
      <div class="team-search">

        <div class="searchbar-container">
          <mat-icon class="search-icon">search</mat-icon>
          <input class="team-searchbar-input" #searchInput type="text" placeholder="Search" (keyup)="search(searchInput.value)">
        </div>
        <button class="team-creation-button" *ngIf="!hasOneTeam$" (click)="openTeamForm('create')" [disabled]="isAuthenticated === undefined">
          <mat-icon class="add-icon" >add</mat-icon>
        </button>
        </div>

      <div class="mat-elevation-z8 table-container">
        <table mat-table [dataSource]="dataSource" matSort>

          <ng-container matColumnDef="logo">
            <th mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let element">
              <img class="team-list-logo"[src]="element.logo" alt="Logo">
            </td>
          </ng-container>

          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> Team Name </th>
            <td mat-cell *matCellDef="let element"> {{element.name}} </td>
          </ng-container>

          <ng-container matColumnDef="captain">
            <th mat-header-cell *matHeaderCellDef> Captain </th>
            <td mat-cell *matCellDef="let element"> {{element.captain.userName}} </td>
          </ng-container>

          <ng-container matColumnDef="createdAt">
            <th mat-header-cell *matHeaderCellDef> Created At </th>
            <td mat-cell *matCellDef="let element"> {{element.createdAt}} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let element; columns: displayedColumns;"
          class="clickable-row" 
          (click)="redirectToTeamPage(element)">
          ></tr>

        </table>
      </div>

      <mat-paginator #paginator [pageSize]="10" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons aria-label="Select page of teams" ></mat-paginator>
    </div>

  </div>
</div>